<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>StudySprint</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    </head>
    
    <body>
        <div class="container">
          <div class="header">
            <div>
              <h1>StudySprint</h1>
              <p class="subtitle">Your productivity dashboard</p>
            </div>
          </div>
      
          <div class="card">
            <h2 style="margin: 0 0 10px 0;">Add a Task</h2>
      
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="flash">{{ message }}</div>
                {% endfor %}
              {% endif %}
            {% endwith %}
      
            <form method="POST" action="/tasks" class="row" style="margin-top: 12px;">
              <input class="input" type="text" name="title" placeholder="e.g., Finish assignment" required>
      
              <select class="select" name="priority">
                <option value="1">Priority 1 (High)</option>
                <option value="2">Priority 2</option>
                <option value="3" selected>Priority 3</option>
                <option value="4">Priority 4</option>
                <option value="5">Priority 5 (Low)</option>
              </select>
      
              <button class="btn btn-primary" type="submit">Add</button>
            </form>
      
            <h2 style="margin: 18px 0 10px 0;">Tasks</h2>
      
            <ul class="list">
              {% for t in tasks %}
                <li class="task {% if t.completed %}completed{% endif %}">
                  <div class="task-left">
                    <span class="badge">#{{ t.id }}</span>
                    <span class="badge p{{ t.priority }}">P{{ t.priority }}</span>
                    <span class="task-title">{{ t.title }}</span>
                  </div>
      
                  <div class="actions">
                    {% if t.completed %}
                      <form method="POST" action="/tasks/{{ t.id }}/uncomplete">
                        <button class="btn" type="submit">Undo</button>
                      </form>
                    {% else %}
                      <form method="POST" action="/tasks/{{ t.id }}/complete">
                        <button class="btn" type="submit">Complete</button>
                      </form>
                    {% endif %}
      
                    <form method="POST" action="/tasks/{{ t.id }}/delete">
                      <button class="btn btn-danger" type="submit">Delete</button>
                    </form>
                  </div>
                </li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </body>
      

</html>
